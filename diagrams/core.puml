@startuml
	!startsub common
        !define datatype(x) class x << (D,#add0b2) DataType>> #ffffff
        hide empty members
        skinparam BoxPadding 120
	!endsub

    !startsub Document
        class "Document" #ffffff {
            DOI : DOI
            title : Multilingual_String
            publicationDate : Date
        }
        class "Textual_Document" #ffffff {
        }
    !endsub

    !startsub TDAS
        class "Textual_Document_Accessibility_Specification" #ffffff {
        }
    !endsub

    !startsub Agent
        class "Agent" #ffffff {
        }
        class "Group_or_Organisation_Unit" #ffffff {
        }
    !endsub

    !startsub OrgUnit
        class "Organisation_Unit" #ffffff {
            name : Multilingual_String
            acronym : String
            address : Postal_Address
            rorId : ROR_ID
            webSiteURL : URI
            email : URI
        }
    !endsub

    !startsub Person
        class "Person" #ffffff {
            name : Person_Name
            orcidId : ORCID_iD
        }

        datatype("Person_Name") {
            firstNames : Multilingual_String
            familyNames : Multilingual_String
            otherNames : Multilingual_String
        }
    !endsub

    !startsub Activity
        class "Activity" #ffffff {
      		dateRange : Date_Range
        }
    !endsub

    !startsub Membership
        class "Membership" #ffffff {
        }
    !endsub

    !startsub Group
        class "Group" #ffffff {
        }
    !endsub

    !startsub OrgUnitWithMembers
            class "Organisation_Unit_with_Members" #ffffff {
            }
    !endsub

    !startsub ContributionToProject
        class "Contribution_to_Project" #ffffff {
        }
    
        class "Project" #ffffff {
        }
    !endsub
    
    !startsub ContributionToEvent
        class "Contribution_to_Event" #ffffff {
        }
    
        class "Event" #ffffff {
        }
    !endsub

    !startsub Contribution
        class "Contribution" #ffffff {
        }
            
        class "Contribution_Statement" #ffffff {
            statement : Multilingual_String
        }
    
        class "Resource_Usage_Statement" #ffffff {
            statement : Multilingual_String
        }
    
        class "Resource" #ffffff {
        }

        class "Funding" #ffffff {
        }
    !endsub


    !startsub ContributionToDocument
        class "Contribution_to_Document" #ffffff {
        }
    !endsub

    !startsub Authorship
        class "Authorship" #ffffff {
            correspondingAuthorFlag : Boolean
        }
    !endsub

    !startsub PostalAddress
        datatype("Postal_Address") {
            street : Multilingual_String
            city : Multilingual_String
            zipCode : Multilingual_String
            country : Country
        }
        datatype("Country") {
             iso3166alpha2Code : ISO_3166_Alpha2_Code
             name : Multilingual_String
        }
    !endsub

    !startsub AffiliationStatement
        class "Affiliation_Statement" #ffffff {
            displayAffiliation_Statement : String
            displayPersonName : String
            address : Postal_Address
            contacts : List<URI>
        }
    !endsub AffiliationStatement

    !startsub Application
        class "Application" #ffffff {
            date : Date
        }

        class "Decision" #ffffff {
            date : Date
        }

        class "Funding_Application" #ffffff {
        }

        class "Call_for_Applications" #ffffff {

        }

        class "Call_for_Funding_Applications" #ffffff {
        }

		class "Evaluation_Outcome" #ffffff {
    	}

		class "Contribution_to_Evaluation_Outcome" #ffffff {
    	}

		class "Application_Review" #ffffff {
    	}

    !endsub Application

    !startsub Prize_Awards
		class "Prize" #ffffff {
    	}
		class "Prize_Award" #ffffff {
    	}
    !endsub

    !startsub Application
        "Application" -u-> "0..1" "Agent" : applicant >
    !endsub

    !startsub Application
        "Application" -u-> "0..1" "Agent" : addressee >
    !endsub

    !startsub Application
		"Call_for_Applications" -u-> "issuer" "Agent"
    !endsub

    !startsub Application
        "Application" "0..1" -- "0..*" "Evaluation_Outcome" : of <
    !endsub

    !startsub Application
        "Application" "0..*" -l- "0..1" "Call_for_Applications" : in response to >
    !endsub

    !startsub Application
        "Application" o-- "0..1" "Document" : contents >
    !endsub

    !startsub Application
        "Application" -r- "0..1" "Decision" : on <
    !endsub

    !startsub Application
        "Decision" o-- "0..1" "Document" : expressed in >
    !endsub

    !startsub Application
        "Application" <|-d- "Funding_Application"
    !endsub

    !startsub Application
        "Call_for_Applications" <|-d- "Call_for_Funding_Applications"
		"Call_for_Funding_Applications" o-- "Funding"
		"Funding_Application" o-- "Funding"
    !endsub

    !startsub Application
        "Decision" -u-> "0..*" "Agent" : make <
    !endsub

    !startsub Application
        "Evaluation_Outcome" -d-> "0..1" "Decision" : form the basis for >
    !endsub

    !startsub Application
        "Contribution" <|-- "Contribution_to_Evaluation_Outcome"
        "Contribution_to_Evaluation_Outcome" <|-d- "Application_Review"
    !endsub

    !startsub Application
        "Contribution_to_Evaluation_Outcome" --> "Evaluation_Outcome"
    !endsub

    !startsub PostalAddress
        "Postal_Address" o..> "country" "Country"
    !endsub

    !startsub PostalAddress
        "Affiliation_Statement" o..> "Postal_Address" : address >
    !endsub

    !startsub AffiliationStatement
        "Activity" "0..*" o-- "0..*" "Affiliation_Statement" : affilations >
    !endsub

    !startsub Contribution
        "Contribution" *-l- "0..*" "Contribution_Statement" : is detailed in >
    !endsub

    !startsub ContributionToDocument
        "Contribution_to_Document" --> "Document" : document >
    !endsub

    !startsub Activity
        "Activity" "0..*" --o "0..1 who" "Agent"
    !endsub

    !startsub Authorship
        "Authorship" --* "Textual_Document"
    !endsub

    !startsub Authorship
        "Contribution_to_Document" <|-- "Authorship"
    !endsub

    !startsub ContributionToDocument
        "Contribution" <|-- "Contribution_to_Document"
    !endsub

    !startsub ContributionToProject
        "Contribution" <|-- "Contribution_to_Project"
    !endsub

    !startsub ContributionToProject
        "Contribution_to_Project" --> "Project" : project >
    !endsub

    !startsub ContributionToEvent
        "Contribution" <|-- "Contribution_to_Event"
    !endsub

    !startsub ContributionToEvent
        "Contribution_to_Event" --> "Event" : event >
    !endsub

    !startsub Contribution
        "Activity" <|-- "Contribution"
    !endsub

    !startsub Contribution
         "Contribution_Statement" --> "0..1" "Resource" : provides >
         "Resource_Usage_Statement" --> "Resource" : uses >
         "Contribution_Statement" o-l- "0..*" "Resource_Usage_Statement"
         "Resource" <|-- "Funding"
    !endsub

    !startsub Authorship
        "Authorship" "0..*" --o "0..1 author" "Agent"
    !endsub

    note on link #white : author == contributor

    !startsub Person
        "Person" ..> "name" "Person_Name"
    !endsub

    !startsub Person
        "Agent" <|-- "Person"
    !endsub

    !startsub OrgUnit
        "Agent" <|-- "Organisation_Unit"
    !endsub

    !startsub PostalAddress
        "Organisation_Unit" ..> "0..1" "Postal_Address" : address >
    !endsub

    !startsub Group
        "Agent" <|-- "Group"
    !endsub

    !startsub OrgUnitWithMembers
        "Group" <|-- "Organisation_Unit_with_Members"
    !endsub

    !startsub OrgUnitWithMembers
        "Organisation_Unit" <|-- "Organisation_Unit_with_Members"
    !endsub

    !startsub Document
    	"Resource" <|-- "Document"
        "Document" <|-d- "Textual_Document"
    !endsub

    !startsub AccessRights
        "Textual_Document" *-r- "0..* accessRights" "Textual_Document_Accessibility_Specification"
    !endsub

    !startsub Authorship
        "Textual_Document" "0..* authoredDocuments" o-- "0..* authors" "Agent"
    !endsub

    !startsub PrizeAwards
    	"Prize_Award" "0..*" -l-o "Prize" : of >
    	"Prize_Award" --> "Agent" : recipient >
    	"Prize" --> "Agent" : by whom >
    	"Prize_Award" --> "0..1" "Document" : for >
    	"Prize_Award" --> "0..1" "Project" : for >
    	"Prize_Award" --> "0..1" "Event" : for >    	
    !endsub

    class "Resource_Offer" #ffffff {
    }
    
    "Resource_Offer" --> "1..*" "Resource" : of >
    
    "Resource_Offer" <|-- "Call_for_Applications"
    
    class "Condition" #ffffff {
    }

	"Resource_Offer" o-- "0..*" "Condition" : has >

    class "Resource_Request" #ffffff {
    }

    "Resource_Request" <|-- "Application"
    
	"Resource_Request" o-- "0..*" "Document" : described in >

    "Resource_Request" "0..*" --> "0..1" "Resource_Request" : revise >
    
    class "Expertise_and_Skills" #ffffff {
    }

    class "Expertise_and_Skills_Posession" #ffffff {
    }
    
    class "Expertise_and_Skills_Condition" #ffffff {
    }
    
    "Expertise_and_Skills" <-- "0..*" "Expertise_and_Skills_Posession"
    "Agent" <-- "0..*" "Expertise_and_Skills_Posession"

    "Expertise_and_Skills" <-- "0..*" "Expertise_and_Skills_Condition"
    "Condition" <|-- "Expertise_and_Skills_Condition"
    
    class "Education" #ffffff {
    }
    
    "Activity" <|-- "Engagement"
    
    class "Engagement" #ffffff {
    }
    
    class "Employment" #ffffff {
    }
    
    "Engagement" <|-- "Employment"
    "Engagement" <|-- "Membership"
    "Engagement" <|-- "Education"
        
    class "Position_Title" #ffffff {
    }

	"Affiliation_Statement" "0..*" --> "0..1" "Position_Title" : position >
	
	"Employment" "0..1" --> "0..*" "Document" : contract >
	
	"Engagement" "0..*" --> "0..1" "Position_Title" : position >
	
	"Engagement" "0..*" -l-> "0..*" "Affiliation_Statement" : is the foundation for >

	"Engagement" "0..*" --> "Group_or_Organisation_Unit" : in >
	
	"Group_or_Organisation_Unit" <|-- "Group"

	"Group_or_Organisation_Unit" <|-- "Organisation_Unit"

	"Agent" <|-- "Group_or_Organisation_Unit"
	
	"Engagement" "0..*" --> "0..1" "Engagement" : part >
	"Engagement" "0..*" --> "0..*" "Engagement" : part transitive >

@enduml
