@startuml
	!startsub common
        !define datatype(x) class x << (D,#add0b2) DataType>> #ffffff
        hide empty members
        skinparam BoxPadding 120
	!endsub

    !startsub Document
        class "Document" #ffffff {
            DOI : DOI_Type
            title : Multilingual_String
            publicationDate : Date
        }
        class "Textual_Document" #ffffff {
        }
    !endsub

    !startsub TDAS
        class "Textual_Document_Accessibility_Specification" #ffffff {
        }
    !endsub

    !startsub Agent
        class "Agent" #ffffff {
        }
    !endsub

    !startsub OrgUnit
        class "Organisation_Unit" #ffffff {
            name : Multilingual_String
            acronym : String
            address : Postal_Address
            rorId : ROR_Id
            webSiteURL : URL
            email : URL
        }
    !endsub

   !startsub Person
        class "Person" #ffffff {
            name : Person_Name
            orcidId : ORCID_iD
        }

        datatype("Person_Name") {
            firstNames : Multilingual_String
            familyNames : Multilingual_String
            otherNames : Multilingual_String
        }
    !endsub

    !startsub Activity
        class "Activity" #ffffff {
        }
    !endsub

    !startsub Membership
        class "Membership" #ffffff {
        }
    !endsub

    !startsub Group
        class "Group" #ffffff {
        }
    !endsub

    !startsub OrgUnitWithMembers
            class "Organisation_Unit_with_Members" #ffffff {
            }
        !endsub

    !startsub ContributionToProject
        class "Contribution_to_Project" #ffffff {
        }
    
        class "Project" #ffffff {
        }
    !endsub
    
    !startsub ContributionToEvent
        class "Contribution_to_Event" #ffffff {
        }
    
        class "Event" #ffffff {
        }
    !endsub

    !startsub Contribution
        class "Contribution" #ffffff {
        }
            
     '   class "Acknowledgement_Statement" #ffffff {
     '   }
        
        class "Contribution_Statement" #ffffff {
            statement : Multilingual_String
        }
    
        class "Resource" #ffffff {
        }
    !endsub


    !startsub ContributionToDocument
        class "Contribution_to_Document" #ffffff {
        }
    !endsub

    !startsub Authorship
        class "Authorship" #ffffff {
            correspondingAuthorFlag : Boolean
        }
    !endsub

    !startsub PostalAddress
        datatype("Postal_Address") {
            street : Multilingual_String
            city : Multilingual_String
            zipCode : Multilingual_String
            country : Country
        }
        datatype("Country") {
             iso3166alpha2Code : ISO3166_Alpha2_Code
             name : Multilingual_String
        }
    !endsub

    !startsub AffiliationStatement
        class "Affiliation_Statement" #ffffff {
            displayAffiliation : String
            displayPersonName : String
            address : Postal_Address
            contacts : List<URI>
        }
    !endsub AffiliationStatement

    !startsub PostalAddress
        "Postal_Address" o-- "country" "Country"
    !endsub

    !startsub PostalAddress
        "Affiliation_Statement" ..> "postalAddress" "Postal_Address"
    !endsub

    !startsub AffiliationStatement
        "Affiliation_Statement" o-- "0..1 orgUnit" "Organisation_Unit"
    !endsub

    !startsub AffiliationStatement
        "Affiliation_Statement" o-- "0..1 institution" "Organisation_Unit"
        '    "Affiliation_Statement" o-- "person" "Person"
    !endsub

    !startsub AffiliationStatement
        "Person" o-- "0..* affiliations" "Affiliation_Statement"
    !endsub

    !startsub AffiliationStatement
        "Activity" *-- "0..* affiliations" "Affiliation_Statement"
    !endsub

    !startsub Contribution
        "Contribution" *-- "0..* contributionStatements" "Contribution_Statement"
    !endsub

    !startsub ContributionToDocument
        "Contribution_to_Document" --> "document" "Document"
    !endsub

    !startsub Activity
        "Activity" "0..*" --o "0..1 who" "Agent"
    !endsub

    !startsub Authorship
        "Authorship" --* "Textual_Document"
    !endsub

    !startsub Authorship
        "Contribution_to_Document" <|-- "Authorship"
    !endsub

    !startsub ContributionToDocument
        "Contribution" <|-- "Contribution_to_Document"
    !endsub

    !startsub ContributionToProject
        "Contribution" <|-- "Contribution_to_Project"
    !endsub

    !startsub ContributionToProject
        "Contribution_to_Project" --> "project" "Project"
    !endsub

    !startsub ContributionToEvent
        "Contribution" <|-- "Contribution_to_Event"
    !endsub

    !startsub ContributionToEvent
        "Contribution_to_Event" --> "event" "Event"
    !endsub

    !startsub Contribution
        "Activity" <|-- "Contribution"
    !endsub

    !startsub Membership
        "Activity" <|-- "Membership"
    !endsub

    !startsub Membership
        "Membership" "0..*" --> "0..1 member of" "Group"
    !endsub

   ' !startsub Contribution
   '     "Acknowledgement_Statement" "0..* thanks to" --o "0..1" "Contribution"
   ' !endsub

   ' !startsub Contribution
   '     "Acknowledgement_Statement" --> "0..1 resource" "Resource"
   ' !endsub

    !startsub Contribution
        "Contribution_Statement" --> "0..1 resource" "Resource"
    !endsub

    !startsub Authorship
        "Authorship" "0..*" --o "0..1 author" "Agent"
    !endsub

    note on link #yellow: author == contributor

    !startsub Person
        "Person" ..> "name" "Person_Name"
    !endsub

    !startsub Person
        "Agent" <|-- "Person"
    !endsub

    !startsub OrgUnit
        "Agent" <|-- "Organisation_Unit"
    !endsub

    !startsub PostalAddress
        "Organisation_Unit" ..> "0..1 address" "Postal_Address"
    !endsub

    !startsub Group
        "Agent" <|-- "Group"
    !endsub

    !startsub OrgUnitWithMembers
        "Group" <|-- "Organisation_Unit_with_Members"
    !endsub

    !startsub OrgUnitWithMembers
        "Organisation_Unit" <|-- "Organisation_Unit_with_Members"
    !endsub

    !startsub Document
        "Document" <|-- "Textual_Document"
    !endsub

    !startsub AccessRights
        "Textual_Document" *-- "0..* accessRights" "Textual_Document_Accessibility_Specification"
    !endsub

    !startsub Authorship
        "Textual_Document" "0..* authoredDocuments" o-- "0..* authors" "Agent"
    !endsub

    note left of Agent #yellow: The Agent is mandatory for almost all \nsubclasses of Contribution,\nReviewing is the exception if the \nreviewer's identity is concealed. \nAlso useful when authors are \nusing pseudonyms.
@enduml
