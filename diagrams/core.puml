@startuml
	!startsub common
	!define datatype(x) class x << (D,#FF7700) DataType>>
	hide empty members
	!endsub

    !startsub Contributorship
    class "Document"{
        title : Multilingual_String
        publicationDate : Date 
        doi : DOI
    }
    !endsub
    class "Textual_Document"{
    }
    class "Textual_Document_Accessibility_Specification"{
    }
    !startsub Agent
    class "Agent"{

    }
    class "Organisation_Unit"{
        name : Multilingual_String
    }
    class "Person"{
        name : Person_Name
        orcidId : ORCID_iD
    }
    datatype("Person_Name") {
        firstNames : Multilingual_String
        familyNames : Multilingual_String
        otherNames : Multilingual_String
    } 
    !endsub
    class "Authorship"{
        correspondingAuthorFlag : Boolean 
    }
    !startsub Contributorship
    class "Contributorship"{
        contacts : List<URI> 
        displayName : String
    }
    class "Contribution_Statement"{
    }
    class "Free_Text_Contribution_Statement"{
        statement : Multilingual_String
    }
    class "Affiliation_Statement"{
        displayAffiliation : String 
        address : Postal_Address
    }
    datatype("Postal_Address") {
        street : Multilingual_String 
        city : Multilingual_String
        zipCode : Multilingual_String 
        country : Country
    }
    class "Country"{
        name : Multilingual_String
        iso3166alphaCode : ISO3166_Alpha_Code
        iso3166NumericCode : ISO3166_Numeric_Code
        euCountryCode : EU_Country_Code
    }
    !endsub

!startsub Contributorship
"Postal_Address" o-- "country" "Country"
"Affiliation_Statement" ..> "postalAddress" "Postal_Address"
"Affiliation_Statement" o-- "orgUnit" "Organisation_Unit"
"Affiliation_Statement" o-- "institution" "Organisation_Unit"
"Contribution_Statement" <|-- "Free_Text_Contribution_Statement"
"Contributorship" -r-* "Document"
"Contributorship" -l-o "Agent"
"Contributorship" o-- "affiliations" "Affiliation_Statement"
"Contributorship" o-- "contributionStatements" "Contribution_Statement"
!endsub
"Authorship" -r-* "Textual_Document"
"Contributorship" <|-u- "Authorship"
"Authorship" --o "author" "Agent"
note on link #yellow: author == contributor
!startsub Agent
"Person" .d.> "name" "Person_Name"
"Agent" <|-d- "Person"
"Agent" <|-d- "Organisation_Unit"
!endsub
"Document" <|-u- "Textual_Document"
"Textual_Document" *-u- "accessRights" "Textual_Document_Accessibility_Specification"
"Textual_Document" *--  "authors" "Agent"

note left of Agent: The Agent is mandatory for almost \nall subclasses of Contributorship,\nReviewing is the exception if the \nreviewer's identity is concealed. \nAlso useful when authors are \nusing pseudonyms.
@enduml